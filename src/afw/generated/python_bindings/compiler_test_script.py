# -*- coding: utf-8 -*-

# Generated by afwdev generate afw

import requests
import json

def test_script_runtime_support(session, testScriptObject):
    """
    Internal test script runtime support

    This is a function called internally as the result of a test_script
    compile. This function is not intended to be called directly.

    Args:
        testScriptObject (dict): A test script results object with the
        required evaluation result properties missing. The sources will be
        evaluated and the corresponding test result properties will be set.

    Returns:
        dict: The testScriptObject object with test result properties set.
    """

    request = session.Request()

    action = {
        "function": "test_script_runtime_support",
        "testScriptObject": testScriptObject
    }

    request.add_action(action)

    response = request.perform()
    if response.get('status') == 'error':
        raise Exception(response.get('error'))

    return response['actions'][0]['result']

