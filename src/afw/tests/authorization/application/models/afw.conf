[
    {
        type                            : "application",
        applicationId                   : "test-auth-models",
        defaultFlags                    : [ "trace" ],
        description                     : "testing application authorization with permit",
        qualifiedVariables              : {
            subject: {
                subjectId: "test-subject"
            },
            request: {
                REMOTE_ADDR: "127.0.0.1"
            }
        },
        authorizationControl            : {
            initialAuthorizationCheck   : "trace(\"----- BEGIN AUTH CHECK -----\");\ntrace(\"actionId = \" + afwVariableGet(\"current::actionId\", \"\"));\ntrace(\"resourceId = \" + afwVariableGet(\"current::resourceId\", \"\"));\nlet  decisionPermit = {\n    \"decisionId\": \"permit\"\n};\n\nlet  decisionDeny = {\n    \"decisionId\": \"deny\"\n};\ntrace(\"---- END AUTH CHECK ----\");\nreturn decisionPermit;"
        }
    },
    {
        adaptorId           : "file",
        type                : "adaptor",
        adaptorType         : "file",
        root                : "./objects",
        filenameSuffix      : ".json",
        contentType         : "json",
        isModelLocation     : true    
    },
    {
        adaptorId               : "model",
        type                    : "adaptor",
        adaptorType             : "model",
        modelLocationAdaptorId  : "file",
        modelId                 : "TestModel1",
        mappedAdaptorId         : "file"
    }
]
