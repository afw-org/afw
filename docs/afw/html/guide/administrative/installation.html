<!DOCTYPE html>
<html lang="en" class="dark">
    <head>        
        <meta charset="utf-8">
        <title>Installation</title>
        <meta name="viewport" content="initial-scale=1, width=device-width" />        
        <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
        
        <script type="text/javascript" src="../../../../afw.js"></script>    
        <link rel="stylesheet" href="../../../../afw.css">    
        <script>
            window.addEventListener('load', function() {
                createNav({"nav_groups": [["Architecture", [["guide/architecture/introduction.html", "Introduction", false], ["guide/architecture/objects.html", "Adaptive Objects", false], ["guide/architecture/interfaces.html", "Interfaces", false], ["guide/architecture/extensions.html", "Extensions", false], ["guide/architecture/data_types.html", "Data Types", false], ["guide/architecture/functions.html", "Functions", false], ["guide/architecture/services.html", "Services", false], ["guide/architecture/models.html", "Models", false], ["guide/architecture/authorization.html", "Authorization", false], ["guide/architecture/provisioning.html", "Provisioning", false]]], ["Administrative", [["guide/administrative/introduction.html", "Introduction", false], ["guide/administrative/installation.html", "Installation", true], ["guide/administrative/configuration.html", "Configuration", false], ["guide/administrative/adaptors.html", "Adaptors", false], ["guide/administrative/authorization_handlers.html", "Authorization Handlers", false], ["guide/administrative/admin_app.html", "Administrative Web App", false], ["guide/administrative/tools.html", "Tools and Applications", false], ["guide/administrative/appendix.html", "Appendix", false]]], ["Developer", [["guide/developer/introduction.html", "Introduction", false], ["guide/developer/contributing.html", "Contributing", false], ["guide/developer/tools.html", "Development Tools", false], ["guide/developer/packages.html", "Packages", false], ["guide/developer/rest.html", "Web Service APIs", false], ["guide/developer/layouts.html", "Adaptive Layouts", false]]]], "relative_root_path": "../../"});
            });
        </script>        
    </head>
    <body class="antialiased text-slate-500 dark:text-slate-400 bg-white dark:bg-slate-900">
        <div class="sticky top-0 z-40 w-full backdrop-blur flex-none transition-colors duration-500 lg:z-50 lg:border-b lg:border-slate-900/10 dark:border-slate-50/[0.06] bg-white/95 supports-backdrop-blur:bg-white/60 dark:bg-transparent">
            <div class="mx-auto" style="max-width: 90rem;">
                <div class="py-4 border-b border-slate-900/10 lg:px-8 lg:border-0 dark:border-slate-300/10 mx-4 lg:mx-0">		
                    <div class="relative flex items-center">
                        <span class="group flex whitespace-pre-wrap text-black font-bold dark:text-slate-100 text-lg mr-3">Adaptive Framework</span>
                        <span class="text-sm text-black dark:text-slate-300">0.9.0</span>
                        <div class="relative lg:flex items-center ml-auto">
                            <nav class="hidden lg:block text-sm leading-6 font-semibold text-slate-700 dark:text-slate-200">
                                <ul class="flex space-x-2">
                                    <li>
    <a class="hover:text-sky-500 dark:hover:text-sky-400" href="../../../../index.html">Docs</a>
</li><li><span> / </span></li><li>
    <a class="hover:text-sky-500 dark:hover:text-sky-400" href="index.html">Administrative</a>
</li><li><span> / </span></li><span>Installation</span>
                                </ul>
                            </nav>
                            <div class="flex items-center border-l border-slate-200 pl-6 dark:border-slate-800">
                                <a href="https://github.com/afw-org/afw" class="ml-6 block text-black dark:text-slate-400 hover:text-slate-500 dark:hover:text-slate-300">
                                    <span class="sr-only">Adaptive Framework on GitHub</span>
                                    <svg viewBox="0 0 16 16" class="w-5 h-5" fill="currentColor" aria-hidden="true">
                                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
                                        </path>
                                    </svg>
                                </a>
                            </div>
                        </div>		
                    </div>
                </div>
                <div class="lg:hidden py-4 border-b border-slate-900/10 lg:px-8 lg:border-0 dark:border-slate-300/10 mx-4 lg:mx-0">
                    <div class="relative flex items-center">                        
                        <button id="nav-button" type="button"
                            class="text-black hover:text-slate-600 dark:text-slate-400 dark:hover:text-slate-300">
                            <span class="sr-only">Navigation</span><svg width="24" height="24">
                                <path d="M5 6h14M5 12h14M5 18h14" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round"></path>
                            </svg>
                        </button>                        
                        <nav class="ml-4 text-sm leading-6 font-semibold text-slate-700 dark:text-slate-200">
                            <ul class="flex space-x-2">
                                <li>
    <a class="hover:text-sky-500 dark:hover:text-sky-400" href="../../../../index.html">Docs</a>
</li><li><span> / </span></li><li>
    <a class="hover:text-sky-500 dark:hover:text-sky-400" href="index.html">Administrative</a>
</li><li><span> / </span></li><span>Installation</span>
                            </ul>
                        </nav>
                    </div>                    
                </div>
            </div>
        </div>
        <div class="overflow-hidden">
            <div class="mx-auto px-4 sm:px-6 md:px-8" style="max-width: 90rem;">
                <div id="nav-menu" class="fixed z-50 inset-0 overflow-y-auto hidden" id="headlessui-dialog-7" role="dialog" aria-modal="true" data-headlessui-state="open">
                    <div class="fixed inset-0 bg-black/20 backdrop-blur-sm dark:bg-slate-900/80" id="headlessui-dialog-overlay-10" aria-hidden="true" data-headlessui-state="open">                        
                    </div>
                    <div class="relative bg-white w-80 max-w-[calc(100%-3rem)] p-6 dark:bg-slate-800">
                        <button id="nav-menu-close" type="button" class="absolute z-10 top-5 right-5 w-8 h-8 flex items-center justify-center text-slate-500 hover:text-slate-600 dark:text-slate-400 dark:hover:text-slate-300" tabindex="0">
                            <span class="sr-only">Close navigation</span>
                            <svg viewBox="0 0 10 10" class="w-2.5 h-2.5 overflow-visible">
                                <path d="M0 0L10 10M10 0L0 10" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
                            </svg>
                        </button>
                        <nav class="lg:text-sm lg:leading-6 relative">
                            <ul id="mobile-nav">
                            </ul>
                        </nav>                        
                    </div>                    
                </div>
                <div class="hidden lg:block fixed z-20 inset-0 top-[3.8125rem] left-[max(0px,calc(50%-45rem))] right-auto w-[25rem] pb-10 px-8 overflow-y-auto">    
                    <nav id="nav" class="lg:ext-sm lg:leading-6 relative">       
                        <ul id="desktop-nav">                           
                        </ul>
                    </nav>
                </div>
                <div class="lg:pl-[25rem]">                        
                    <main class="max-w-3xl mx-auto relative z-20 pt-10 xl:max-w-none">                        
                        <div class="prose dark:prose-invert max-w-3xl">
                                    
                            <h1 class="inline-block text-2xl sm:text-3xl font-extrabold text-slate-900 tracking-tight dark:text-slate-200">Installation</h1><p class="text-lg text-slate-700 dark:text-slate-400">
    
        Installing Adaptive Framework, whether to be used for Development or Deployment, can be 
        done in one of many ways. You may choose to build the framework yourself, install 
        the pre-built binaries from a distributive package, or use Docker to run it.
    
</p><section class="mt-12">
    <h2 class="group flex whitespace-pre-wrap -ml-4 pl-4 mb-2 text-sm leading-6 text-sky-500 font-semibold tracking-normal dark:text-sky-400">Using Docker</h2><p class="text-lg text-slate-700 dark:text-slate-400">
    
            Docker is a virtualization tool that can be used to quickly install and use 
            products from pre-built images. To pull the images that have already been 
            built and released, please visit the GitHub project repository for the 
            latest Release links. There images that can be used to run a 
            production instance of Adaptive Framework and one for demo purposes. There 
            are two additional images, afw-dev-base and afw-base that are used 
            internally for GitHub workflows, but may also be  used to build the first 
            three images from scratch.
        
</p><div class="overflow-auto">
    <table class="table-auto">
        <thead>
            <tr>                               
                <th class="border-b dark:border-slate-600 font-medium p-4 pl-4 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-left">Image</th><th class="border-b dark:border-slate-600 font-medium p-4 pl-4 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-left">Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
    <td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'>afwfcgi</td><td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'>The afwfcgi image provides the FastCGI Service for processing client requests. This image is useful to configure behind a web server such as Apache or Ngninx, in order to provide RESTful web services.</td>    
</tr><tr>
    <td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'>afw-admin</td><td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'>The afw-admin image provides nginx and the administrative web app for managing an Adaptive Framework application. This web application is general-purpose and allows you to edit object data as well as configure and maintain services, logs, adaptors and authorization handlers.</td>    
</tr><tr>
    <td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'>afw-demo</td><td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'>This image is for demo purposes. It runs both afwfcgi, along with an nginx instance serving the admin interface. Additionally, it has some minimal configuration in place to provide a handful of adaptors in order to demo the framework.</td>    
</tr><tr>
    <td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'>afw-dev-base</td><td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'>This image contains the full development environment needed to build Adaptive Framework. There are multiple distributions supported, including RockyLinux, Ubuntu, Opensuse and Alpine Linux.</td>    
</tr><tr>
    <td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'>afw-base</td><td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'>This image contains the minimum requirements to run an instance of Adaptive Framework and serves only as a "base" image for afwfcgi and afw-demo.</td>    
</tr>
        </tbody>
    </table>
</div><section class="mt-12">
    <h3 class="group flex whitespace-pre-wrap -ml-4 pl-4">Running Docker Images in Production</h3><p class="text-lg text-slate-700 dark:text-slate-400">
    
                Running the pre-built Docker images in production requires that you have a 
                Docker Engine available. Docker is available for both Desktop and Server 
                environments. For more information, visit:  
                <a href="https://www.docker.com">https://www.docker.com</a>
            
</p><h3 class="group flex whitespace-pre-wrap -ml-4 pl-4">Using Docker Compose Orchestration</h3><p class="text-lg text-slate-700 dark:text-slate-400">
    
                Docker Compose is a simple orchestration tool, which can be used to run 
                multiple containers as services. By grouping multiple containers together, 
                Docker Compose can start and stop them all at once, while also handling 
                any special networking requirements between the containers. This is 
                useful for <code>afwfcgi</code> and <code>afw-admin</code>, 
                which need to be able to communicate with each other.
            
</p><p class="text-lg text-slate-700 dark:text-slate-400">
    
                Below is a sample configuration file <code>docker-compose.yml</code> to 
                run <code>afw-admin</code> and <code>afwfcgi</code>:
            
</p><pre><code><span>version &quot;3.7&quot;
services:

    afwfcgi:
        image: &quot;afwfcgi&quot;
        volumes:
            - afw:/afw

    admin:
        image: &quot;afw-admin&quot;
        ports:
            - &quot;80:80&quot;
        links:
            - afwfcgi

volumes:
    afw</span></code></pre><p class="text-lg text-slate-700 dark:text-slate-400">
    
                To initialize and start both services in the background:
            
</p><pre><code><span>docker-compose up -d</span></code></pre><p class="text-lg text-slate-700 dark:text-slate-400">
    
                To stop both services:
            
</p><pre><code><span>docker-compose stop</span></code></pre>
</section><section class="mt-12">
    <h3 class="group flex whitespace-pre-wrap -ml-4 pl-4">Building Docker Images</h3><p class="text-lg text-slate-700 dark:text-slate-400">
    
                If you wish to not to use officially released Docker images, and would 
                like to build your own from scratch, continue with instructions in 
                this section.
            
</p><p class="text-lg text-slate-700 dark:text-slate-400">
    
                After cloning the source, navigate to the <code>docker/images</code> 
                directory where Dockerfile configurations reside. The examples in this 
                section use Alpine Linux as the base distribution, but you may also 
                use the other platforms available. Alpine Linux is a nice 
                distribution base to use, because it minimizes software packages 
                in order to provide a very compact, secure image.
            
</p><h3 class="group flex whitespace-pre-wrap -ml-4 pl-4">Building afw-dev-base Image</h3><p class="text-lg text-slate-700 dark:text-slate-400">
    
                The <code>afw-dev-base</code> image contains all of the software 
                that Adaptive Framework depends on for building. It includes autotools, 
                gcc compiler, python and other dependency packages.
            
</p><pre><code><span>cd docker/images/builder
# Build an Alpine-based builder image
docker build -t afw-dev-base:alpine -f Dockerfile.alpine .</span></code></pre><p class="text-lg text-slate-700 dark:text-slate-400">
    
                With the <code>afw-dev-base</code> built, we can now use it for 
                the next step: building from source.
            
</p><pre><code><span>docker run --rm -v /path/to/repo:/input -v /path/to/output:/output afw-dev-base:alpine</span></code></pre><p class="text-lg text-slate-700 dark:text-slate-400">
    
                This previous step of running the <code>afw-dev-base</code> image 
                will use two mount points:  input, output. The input should be 
                the path to the repository and the output can be anywhere in your 
                file system that you want the builder to write out a distribution 
                file (.tar for Alpine, .rpm for RockyLinux, or .deb for Ubuntu). This 
                file is required for the next steps.
            
</p><h3 class="group flex whitespace-pre-wrap -ml-4 pl-4">Building afwfcgi Image</h3><pre><code><span>cd docker/images/afwfcgi 

# Build an Alpine-based image            
docker build --build-arg BIN=&lt;alpine-based .tar file&gt; -t afwfcgi:alpine -f Dockerfile.alpine .</span></code></pre>
</section>
</section><section class="mt-12">
    <h2 class="group flex whitespace-pre-wrap -ml-4 pl-4 mb-2 text-sm leading-6 text-sky-500 font-semibold tracking-normal dark:text-sky-400">Building from Source</h2><p class="text-lg text-slate-700 dark:text-slate-400">
    
            We recommend one of the following platform versions for building from Source:
        
</p><ul class="list-disc">
    <li>RockyLinux</li><li>Ubuntu 20.04</li><li>OpenSUSE Leap 15.3</li><li>Alpine Linux 3.16</li>
</ul><section class="mt-12">
    <h3 class="group flex whitespace-pre-wrap -ml-4 pl-4">Building on Ubuntu 20.04</h3><h3 class="group flex whitespace-pre-wrap -ml-4 pl-4">Source Build Dependencies</h3><pre><code><span>sudo apt-get install -y git autotools-dev autoconf libtool</span></code></pre><h3 class="group flex whitespace-pre-wrap -ml-4 pl-4">Fetch Source</h3><pre><code><span># Fetch source for Adaptive Framework
git clone https://github.com/afw-org/afw.git</span></code></pre><h3 class="group flex whitespace-pre-wrap -ml-4 pl-4">Install AdaptiveFramework Core dependencies</h3><pre><code><span># Apache Run Time and Apache2 Dev
sudo apt-get install -y libapr1 libapr1-dev apache2-dev

# libxml2
sudo apt-get install -y libxml2 libxml2-dev

# libicu for Unicode support
sudo apt-get install -y libicu-dev

# libunwind and elfutils for stack trace
sudo apt-get install -y libunwind-setjmp0-dev elfutils libdw-dev</span></code></pre><h3 class="group flex whitespace-pre-wrap -ml-4 pl-4">Install AdaptiveFramework Adaptor dependencies</h3><pre><code><span># LightningDB Adaptor
sudo apt-get install -y liblmdb-dev

# need OpenSSL and CURL for DynamoDB adaptor dependencies
sudo apt-get install -y libcurl4-openssl-dev libssl-dev

# YAML
sudo apt-get install -y libyaml-dev</span></code></pre><h3 class="group flex whitespace-pre-wrap -ml-4 pl-4">Install HTTP stack</h3><pre><code><span># FastCGI library
sudo apt-get install -y libfcgi-dev

# NGNIX
sudo apt-get install -y nginx</span></code></pre><h3 class="group flex whitespace-pre-wrap -ml-4 pl-4">Development tools (optional)</h3><pre><code><span># debugging
sudo apt-get install -y gdb
sudo apt-get install -y valgrind
sudo apt-get install -y lsof

# python stuff
pip install -r python-requirements.txt</span></code></pre><h3 class="group flex whitespace-pre-wrap -ml-4 pl-4">Building Adaptive Framework</h3><pre><code><span>cd afw
./afwdev build --install</span></code></pre><h3 class="group flex whitespace-pre-wrap -ml-4 pl-4">TL;DR</h3><pre><code><span>sudo apt-get install git autotools-dev autoconf libtool libapr1 libapr1-dev apache2-dev libxml2 libxml2-dev libicu-dev libmysqlclient-dev libdb-dev liblmdb-dev libcurl4-openssl-dev libssl-dev libyaml-dev libfcgi-dev nginx libunwind-setjmp0-dev elfutils libdw-dev
git clone https://github.com/afw-org/afw.git
cd afw
./afwdev build &amp;&amp; sudo make install</span></code></pre><h3 class="group flex whitespace-pre-wrap -ml-4 pl-4">Building Web Applications</h3><pre><code><span>npm install
npm run build</span></code></pre>
</section>
</section><section class="mt-12">
    <h2 class="group flex whitespace-pre-wrap -ml-4 pl-4 mb-2 text-sm leading-6 text-sky-500 font-semibold tracking-normal dark:text-sky-400">Installation Verification</h2><p class="text-lg text-slate-700 dark:text-slate-400">
    
            Installation Verification is a process designed to ensure your installation was 
            done correctly. 
        
</p>
</section>                        
                            <footer class="text-sm leading-6 mt-12">
    <div class="mb-10 text-slate-700 font-semibold flex items-center dark:text-slate-200">
    <a class="group flex items-center hover:text-slate-900 dark:hover:text-white" href="introduction.html"><svg viewBox="0 0 3 6" class="mr-3 w-auto h-1.5 text-slate-400 overflow-visible group-hover:text-slate-600 dark:group-hover:text-slate-300">
        <path d="M3 0L0 3L3 6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>Introduction</a>
    <a class="group ml-auto flex items-center hover:text-slate-900 dark:hover:text-white" href="configuration.html">Configuration<svg viewBox="0 0 3 6" class="ml-3 w-auto h-1.5 text-slate-400 overflow-visible group-hover:text-slate-600 dark:group-hover:text-slate-300">
        <path d="M0 0L3 3L0 6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg></a>
</div>
</footer>
                            <p></p>
                        </div>                        
                    </main>                    
                </div>
            </div>            
        </div>
    </body>
</html>