<!DOCTYPE html>
<html lang="en" class="dark">
    <head>        
        <meta charset="utf-8">
        <title>Appendix</title>
        <meta name="viewport" content="initial-scale=1, width=device-width" />        
        <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
        
        <script type="text/javascript" src="../../../../afw.js"></script>    
        <link rel="stylesheet" href="../../../../afw.css">    
        <script>
            window.addEventListener('load', function() {
                createNav({"nav_groups": [["Architecture", [["guide/architecture/introduction.html", "Introduction", false], ["guide/architecture/objects.html", "Adaptive Objects", false], ["guide/architecture/interfaces.html", "Interfaces", false], ["guide/architecture/extensions.html", "Extensions", false], ["guide/architecture/data_types.html", "Data Types", false], ["guide/architecture/functions.html", "Functions", false], ["guide/architecture/services.html", "Services", false], ["guide/architecture/models.html", "Models", false], ["guide/architecture/authorization.html", "Authorization", false], ["guide/architecture/provisioning.html", "Provisioning", false]]], ["Administrative", [["guide/administrative/introduction.html", "Introduction", false], ["guide/administrative/installation.html", "Installation", false], ["guide/administrative/configuration.html", "Configuration", false], ["guide/administrative/adaptors.html", "Adaptors", false], ["guide/administrative/authorization_handlers.html", "Authorization Handlers", false], ["guide/administrative/admin_app.html", "Administrative Web App", false], ["guide/administrative/tools.html", "Tools and Applications", false], ["guide/administrative/appendix.html", "Appendix", true]]], ["Developer", [["guide/developer/introduction.html", "Introduction", false], ["guide/developer/contributing.html", "Contributing", false], ["guide/developer/tools.html", "Development Tools", false], ["guide/developer/packages.html", "Packages", false], ["guide/developer/rest.html", "Web Service APIs", false], ["guide/developer/layouts.html", "Adaptive Layouts", false]]]], "relative_root_path": "../../"});
            });
        </script>        
    </head>
    <body class="antialiased text-slate-500 dark:text-slate-400 bg-white dark:bg-slate-900">
        <div class="sticky top-0 z-40 w-full backdrop-blur flex-none transition-colors duration-500 lg:z-50 lg:border-b lg:border-slate-900/10 dark:border-slate-50/[0.06] bg-white/95 supports-backdrop-blur:bg-white/60 dark:bg-transparent">
            <div class="mx-auto" style="max-width: 90rem;">
                <div class="py-4 border-b border-slate-900/10 lg:px-8 lg:border-0 dark:border-slate-300/10 mx-4 lg:mx-0">		
                    <div class="relative flex items-center">
                        <span class="group flex whitespace-pre-wrap text-black font-bold dark:text-slate-100 text-lg mr-3">Adaptive Framework</span>
                        <span class="text-sm text-black dark:text-slate-300">0.9.0</span>
                        <div class="relative lg:flex items-center ml-auto">
                            <nav class="hidden lg:block text-sm leading-6 font-semibold text-slate-700 dark:text-slate-200">
                                <ul class="flex space-x-2">
                                    <li>
    <a class="hover:text-sky-500 dark:hover:text-sky-400" href="../../../../index.html">Docs</a>
</li><li><span> / </span></li><li>
    <a class="hover:text-sky-500 dark:hover:text-sky-400" href="index.html">Administrative</a>
</li><li><span> / </span></li><span>Appendix</span>
                                </ul>
                            </nav>
                            <div class="flex items-center border-l border-slate-200 pl-6 dark:border-slate-800">
                                <a href="https://github.com/afw-org/afw" class="ml-6 block text-black dark:text-slate-400 hover:text-slate-500 dark:hover:text-slate-300">
                                    <span class="sr-only">Adaptive Framework on GitHub</span>
                                    <svg viewBox="0 0 16 16" class="w-5 h-5" fill="currentColor" aria-hidden="true">
                                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
                                        </path>
                                    </svg>
                                </a>
                            </div>
                        </div>		
                    </div>
                </div>
                <div class="lg:hidden py-4 border-b border-slate-900/10 lg:px-8 lg:border-0 dark:border-slate-300/10 mx-4 lg:mx-0">
                    <div class="relative flex items-center">                        
                        <button id="nav-button" type="button"
                            class="text-black hover:text-slate-600 dark:text-slate-400 dark:hover:text-slate-300">
                            <span class="sr-only">Navigation</span><svg width="24" height="24">
                                <path d="M5 6h14M5 12h14M5 18h14" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round"></path>
                            </svg>
                        </button>                        
                        <nav class="ml-4 text-sm leading-6 font-semibold text-slate-700 dark:text-slate-200">
                            <ul class="flex space-x-2">
                                <li>
    <a class="hover:text-sky-500 dark:hover:text-sky-400" href="../../../../index.html">Docs</a>
</li><li><span> / </span></li><li>
    <a class="hover:text-sky-500 dark:hover:text-sky-400" href="index.html">Administrative</a>
</li><li><span> / </span></li><span>Appendix</span>
                            </ul>
                        </nav>
                    </div>                    
                </div>
            </div>
        </div>
        <div class="overflow-hidden">
            <div class="mx-auto px-4 sm:px-6 md:px-8" style="max-width: 90rem;">
                <div id="nav-menu" class="fixed z-50 inset-0 overflow-y-auto hidden" id="headlessui-dialog-7" role="dialog" aria-modal="true" data-headlessui-state="open">
                    <div class="fixed inset-0 bg-black/20 backdrop-blur-sm dark:bg-slate-900/80" id="headlessui-dialog-overlay-10" aria-hidden="true" data-headlessui-state="open">                        
                    </div>
                    <div class="relative bg-white w-80 max-w-[calc(100%-3rem)] p-6 dark:bg-slate-800">
                        <button id="nav-menu-close" type="button" class="absolute z-10 top-5 right-5 w-8 h-8 flex items-center justify-center text-slate-500 hover:text-slate-600 dark:text-slate-400 dark:hover:text-slate-300" tabindex="0">
                            <span class="sr-only">Close navigation</span>
                            <svg viewBox="0 0 10 10" class="w-2.5 h-2.5 overflow-visible">
                                <path d="M0 0L10 10M10 0L0 10" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
                            </svg>
                        </button>
                        <nav class="lg:text-sm lg:leading-6 relative">
                            <ul id="mobile-nav">
                            </ul>
                        </nav>                        
                    </div>                    
                </div>
                <div class="hidden lg:block fixed z-20 inset-0 top-[3.8125rem] left-[max(0px,calc(50%-45rem))] right-auto w-[25rem] pb-10 px-8 overflow-y-auto">    
                    <nav id="nav" class="lg:ext-sm lg:leading-6 relative">       
                        <ul id="desktop-nav">                           
                        </ul>
                    </nav>
                </div>
                <div class="lg:pl-[25rem]">                        
                    <main class="max-w-3xl mx-auto relative z-20 pt-10 xl:max-w-none">                        
                        <div class="prose dark:prose-invert max-w-3xl">
                                    
                            <h1 class="inline-block text-2xl sm:text-3xl font-extrabold text-slate-900 tracking-tight dark:text-slate-200">Appendix</h1><section class="mt-12">
    <h2 class="group flex whitespace-pre-wrap -ml-4 pl-4 mb-2 text-sm leading-6 text-sky-500 font-semibold tracking-normal dark:text-sky-400">Sample Adaptive Framework configuration file</h2><pre><code><span>/* Adaptive framework configuration. */
[
    // File adaptor for accessing configuration.
    {
        type            : "adaptor",
        adaptorId       : "conf",
        adaptorType     : "file",
        filenameSuffix  : ".json",
        contentType     : "json",
        root            : "/var/lib/afw/config/"
    },

    {
        type                : "requestHandler",
        uriPrefix           : "/xacml",
        requestHandlerType  : "xacml"
    },

    // catch all for /
    {
        type                : "requestHandler",
        uriPrefix           : "/",
        requestHandlerType  : "adaptor"
    },

    {
        type            : "application",
        confAdaptorId   : "conf",
        applicationId   : "MyApplication"
    }
]
</span></code></pre>
</section><section class="mt-12">
    <h2 class="group flex whitespace-pre-wrap -ml-4 pl-4 mb-2 text-sm leading-6 text-sky-500 font-semibold tracking-normal dark:text-sky-400">Sample Nginx Configuration</h2><pre><code><span>worker_processes  1;

env HOMEPATH;

events {
    worker_connections  1024;
}

http {
    include       mime.types;
    default_type  application/json;

    server {
        listen 8080;
        location /favicon.ico {
            return 204;
            access_log     off;
            log_not_found  off;
        }    
        root /var/www/html/;
        location = / {
            return 301 $scheme://$http_host/afw_app/Home;
        }
        location ~ /afw_app/(.+) {
            root /var/www/html/afw_app/;
            try_files /$1 /index.html =404;
        }
        location = /doc {
            return 301 $scheme://$http_host/doc/index.html;
        }
        location ~ /doc/(.+) {            
            root /var/www/html/afw_app/doc;
            try_files /$1 /$1/index.html =404;
        }
        location / {
            fastcgi_pass unix:/var/run/afw.sock;

            fastcgi_param   IGNORE_URI_PREFIX       /;
            fastcgi_param   URI                     $uri;

            fastcgi_param   QUERY_STRING            $query_string;
            fastcgi_param   REQUEST_METHOD          $request_method;
            fastcgi_param   CONTENT_TYPE            $content_type;
            fastcgi_param   CONTENT_LENGTH          $content_length;
    
            fastcgi_param   SCRIPT_FILENAME         $document_root$fastcgi_script_name;
            fastcgi_param   SCRIPT_NAME             $fastcgi_script_name;
            fastcgi_param   PATH_INFO               $fastcgi_path_info;
            fastcgi_param   PATH_TRANSLATED         $document_root$fastcgi_path_info;
            fastcgi_param   REQUEST_URI             $request_uri;
            fastcgi_param   DOCUMENT_URI            $document_uri;
            fastcgi_param   DOCUMENT_ROOT           $document_root;
            fastcgi_param   SERVER_PROTOCOL         $server_protocol;
    
            fastcgi_param   GATEWAY_INTERFACE       CGI/1.1;
            fastcgi_param   SERVER_SOFTWARE         nginx/$nginx_version;
    
            fastcgi_param   REMOTE_ADDR             $remote_addr;
            fastcgi_param   REMOTE_PORT             $remote_port;
            fastcgi_param   SERVER_ADDR             $server_addr;
            fastcgi_param   SERVER_PORT             $server_port;
            fastcgi_param   SERVER_NAME             $server_name;
    
            fastcgi_param   HTTPS                   $https;
            fastcgi_param   SCHEME                  $scheme;
            fastcgi_param   TIME_ISO8601            $time_iso8601;
    
            # PHP only, required if PHP was built with --enable-force-cgi-redirect
            fastcgi_param   REDIRECT_STATUS         200;
        }
    }
}
</span></code></pre>
</section><section class="mt-12">
    <h2 class="group flex whitespace-pre-wrap -ml-4 pl-4 mb-2 text-sm leading-6 text-sky-500 font-semibold tracking-normal dark:text-sky-400">Sample systemd Startup Script for afwfcgi</h2><pre><code><span>[Unit]
Description=Adaptive Framework FCGI systemd service script

[Service]
Type=simple
ExecStart=/usr/local/bin/afwfcgi -n 10 -p /var/run/afw.sock -f /etc/afw.conf
ExecStartPost=/bin/sleep 2
ExecStartPost=/usr/bin/chown nginx:nginx /var/run/afw.sock
StandardOutput=syslog
StandardError=syslog

[Install]
WantedBy=multi-user.target
</span></code></pre>
</section>                        
                            <footer class="text-sm leading-6 mt-12">
    <div class="mb-10 text-slate-700 font-semibold flex items-center dark:text-slate-200">
    <a class="group flex items-center hover:text-slate-900 dark:hover:text-white" href="tools.html"><svg viewBox="0 0 3 6" class="mr-3 w-auto h-1.5 text-slate-400 overflow-visible group-hover:text-slate-600 dark:group-hover:text-slate-300">
        <path d="M3 0L0 3L3 6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>Tools</a>    
</div>
</footer>
                            <p></p>
                        </div>                        
                    </main>                    
                </div>
            </div>            
        </div>
    </body>
</html>