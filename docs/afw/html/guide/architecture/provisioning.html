<!DOCTYPE html>
<html lang="en" class="dark">
    <head>        
        <meta charset="utf-8">
        <title>Provisioning</title>
        <meta name="viewport" content="initial-scale=1, width=device-width" />        
        <script src="https://cdn.tailwindcss.com?plugins=typography"></script>
        
        <script type="text/javascript" src="../../../../afw.js"></script>    
        <link rel="stylesheet" href="../../../../afw.css">    
        <script>
            window.addEventListener('load', function() {
                createNav({"nav_groups": [["Architecture", [["guide/architecture/introduction.html", "Introduction", false], ["guide/architecture/objects.html", "Adaptive Objects", false], ["guide/architecture/interfaces.html", "Interfaces", false], ["guide/architecture/extensions.html", "Extensions", false], ["guide/architecture/data_types.html", "Data Types", false], ["guide/architecture/functions.html", "Functions", false], ["guide/architecture/services.html", "Services", false], ["guide/architecture/models.html", "Models", false], ["guide/architecture/authorization.html", "Authorization", false], ["guide/architecture/provisioning.html", "Provisioning", true]]], ["Administrative", [["guide/administrative/introduction.html", "Introduction", false], ["guide/administrative/installation.html", "Installation", false], ["guide/administrative/configuration.html", "Configuration", false], ["guide/administrative/adaptors.html", "Adaptors", false], ["guide/administrative/authorization_handlers.html", "Authorization Handlers", false], ["guide/administrative/admin_app.html", "Administrative Web App", false], ["guide/administrative/tools.html", "Tools and Applications", false], ["guide/administrative/appendix.html", "Appendix", false]]], ["Developer", [["guide/developer/introduction.html", "Introduction", false], ["guide/developer/contributing.html", "Contributing", false], ["guide/developer/tools.html", "Development Tools", false], ["guide/developer/packages.html", "Packages", false], ["guide/developer/rest.html", "Web Service APIs", false], ["guide/developer/layouts.html", "Adaptive Layouts", false]]]], "relative_root_path": "../../"});
            });
        </script>        
    </head>
    <body class="antialiased text-slate-500 dark:text-slate-400 bg-white dark:bg-slate-900">
        <div class="sticky top-0 z-40 w-full backdrop-blur flex-none transition-colors duration-500 lg:z-50 lg:border-b lg:border-slate-900/10 dark:border-slate-50/[0.06] bg-white/95 supports-backdrop-blur:bg-white/60 dark:bg-transparent">
            <div class="mx-auto" style="max-width: 90rem;">
                <div class="py-4 border-b border-slate-900/10 lg:px-8 lg:border-0 dark:border-slate-300/10 mx-4 lg:mx-0">		
                    <div class="relative flex items-center">
                        <span class="group flex whitespace-pre-wrap text-black font-bold dark:text-slate-100 text-lg mr-3">Adaptive Framework</span>
                        <span class="text-sm text-black dark:text-slate-300">0.9.0</span>
                        <div class="relative lg:flex items-center ml-auto">
                            <nav class="hidden lg:block text-sm leading-6 font-semibold text-slate-700 dark:text-slate-200">
                                <ul class="flex space-x-2">
                                    <li>
    <a class="hover:text-sky-500 dark:hover:text-sky-400" href="../../../../index.html">Docs</a>
</li><li><span> / </span></li><li>
    <a class="hover:text-sky-500 dark:hover:text-sky-400" href="index.html">Architecture</a>
</li><li><span> / </span></li><span>Provisioning</span>
                                </ul>
                            </nav>
                            <div class="flex items-center border-l border-slate-200 pl-6 dark:border-slate-800">
                                <a href="https://github.com/afw-org/afw" class="ml-6 block text-black dark:text-slate-400 hover:text-slate-500 dark:hover:text-slate-300">
                                    <span class="sr-only">Adaptive Framework on GitHub</span>
                                    <svg viewBox="0 0 16 16" class="w-5 h-5" fill="currentColor" aria-hidden="true">
                                        <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z">
                                        </path>
                                    </svg>
                                </a>
                            </div>
                        </div>		
                    </div>
                </div>
                <div class="lg:hidden py-4 border-b border-slate-900/10 lg:px-8 lg:border-0 dark:border-slate-300/10 mx-4 lg:mx-0">
                    <div class="relative flex items-center">                        
                        <button id="nav-button" type="button"
                            class="text-black hover:text-slate-600 dark:text-slate-400 dark:hover:text-slate-300">
                            <span class="sr-only">Navigation</span><svg width="24" height="24">
                                <path d="M5 6h14M5 12h14M5 18h14" fill="none" stroke="currentColor" stroke-width="2"
                                    stroke-linecap="round"></path>
                            </svg>
                        </button>                        
                        <nav class="ml-4 text-sm leading-6 font-semibold text-slate-700 dark:text-slate-200">
                            <ul class="flex space-x-2">
                                <li>
    <a class="hover:text-sky-500 dark:hover:text-sky-400" href="../../../../index.html">Docs</a>
</li><li><span> / </span></li><li>
    <a class="hover:text-sky-500 dark:hover:text-sky-400" href="index.html">Architecture</a>
</li><li><span> / </span></li><span>Provisioning</span>
                            </ul>
                        </nav>
                    </div>                    
                </div>
            </div>
        </div>
        <div class="overflow-hidden">
            <div class="mx-auto px-4 sm:px-6 md:px-8" style="max-width: 90rem;">
                <div id="nav-menu" class="fixed z-50 inset-0 overflow-y-auto hidden" id="headlessui-dialog-7" role="dialog" aria-modal="true" data-headlessui-state="open">
                    <div class="fixed inset-0 bg-black/20 backdrop-blur-sm dark:bg-slate-900/80" id="headlessui-dialog-overlay-10" aria-hidden="true" data-headlessui-state="open">                        
                    </div>
                    <div class="relative bg-white w-80 max-w-[calc(100%-3rem)] p-6 dark:bg-slate-800">
                        <button id="nav-menu-close" type="button" class="absolute z-10 top-5 right-5 w-8 h-8 flex items-center justify-center text-slate-500 hover:text-slate-600 dark:text-slate-400 dark:hover:text-slate-300" tabindex="0">
                            <span class="sr-only">Close navigation</span>
                            <svg viewBox="0 0 10 10" class="w-2.5 h-2.5 overflow-visible">
                                <path d="M0 0L10 10M10 0L0 10" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"></path>
                            </svg>
                        </button>
                        <nav class="lg:text-sm lg:leading-6 relative">
                            <ul id="mobile-nav">
                            </ul>
                        </nav>                        
                    </div>                    
                </div>
                <div class="hidden lg:block fixed z-20 inset-0 top-[3.8125rem] left-[max(0px,calc(50%-45rem))] right-auto w-[25rem] pb-10 px-8 overflow-y-auto">    
                    <nav id="nav" class="lg:ext-sm lg:leading-6 relative">       
                        <ul id="desktop-nav">                           
                        </ul>
                    </nav>
                </div>
                <div class="lg:pl-[25rem]">                        
                    <main class="max-w-3xl mx-auto relative z-20 pt-10 xl:max-w-none">                        
                        <div class="prose dark:prose-invert max-w-3xl">
                                    
                            <h1 class="inline-block text-2xl sm:text-3xl font-extrabold text-slate-900 tracking-tight dark:text-slate-200">Provisioning</h1><p class="text-lg text-slate-700 dark:text-slate-400">
    
        When Adaptive Objects are committed to an adaptor store, a record of 
        the event, may optionally be recorded by a <code>Journal 
        Adaptor</code> in order to maintain a chronological ordering of 
        events, which may be used to notify external clients. 
        <code>Provisioning</code> describes the process by which Adaptive 
        Objects may be synchronized between an adaptor and one or more clients, 
        or <code>Provisioning Peers</code>.
    
</p><section class="mt-12">
    <h2 class="group flex whitespace-pre-wrap -ml-4 pl-4 mb-2 text-sm leading-6 text-sky-500 font-semibold tracking-normal dark:text-sky-400">Journal</h2><p class="text-lg text-slate-700 dark:text-slate-400">
    
            Any adaptor may be configured with an optional 
            <code>journalAdaptorId</code>, which references an adaptor 
            that supports the Journaling of object events. When an object is
            modified through the adaptor interface methods (add, delete, modify,
            replace, update), a <code>Journal Entry</code> of the event is 
            created and sent to the provided Journal Adaptor. This Journal
            Entry contains information about the event, including the Request
            and Source information about the entry. The Journal Entry is added
            to an event queue, and each entry is referenced by a 
            <code>Journal Cursor</code>. Cursors are used to uniquely 
            identify an Journal Entry and entries may be fetched from the queue 
            in chronological order, using these chain of cursors. The cursors
            may be used by both the Provisioning Peer and Journal Adaptor to
            replay a series of events that have occurred from any range within
            the Journal.
        
</p><p class="text-lg text-slate-700 dark:text-slate-400">
    
            A Journal Entry is produced for the Journal Adaptor, by a single 
            Provisioning Peer. The Journal Entry may then be consumed by one or 
            more Provisioning Peers. The Journal Interface routines provide all
            of the necessary functions to provision in and out of the Journal.
            For more details on the Journal interface functions, see 
            <a href="None">Journal</a>.
        
</p><p class="text-lg text-slate-700 dark:text-slate-400">
    
            A <code>Producer</code> is anything that produces an event 
            that will be journaled. In the following diagram, we illustrate how
            a Provisioning Peer may produce an event simply by calling the
            <code>add_object()</code> routine to an adaptor. The adaptor, 
            in turn, is configured with a Journal Adaptor, which knows to take
            the object and add it to its queue of Journal Entries.
        
</p><img src="images/ProvisioningProducer.svg" alt="Provisioning Producer creates an object to be journaled." class="dark:invert" /><p class="text-lg text-slate-700 dark:text-slate-400">
    
            By contrast, an <code>Consumer</code> is a client that 
            consumes events from the Journal. 
        
</p>
</section><section class="mt-12">
    <h2 class="group flex whitespace-pre-wrap -ml-4 pl-4 mb-2 text-sm leading-6 text-sky-500 font-semibold tracking-normal dark:text-sky-400">Provisioning Peers</h2><p class="text-lg text-slate-700 dark:text-slate-400">
    
            A Provisioning Peer is a client, external to the Journal, which 
            may produce and/or consume Journal Entries. Provisioning Peers are 
            uniquely identified by a <code>peerId</code>, which 
            associates a peer with the following Provisioning Peer object 
            poperties:
        
</p><div class="overflow-auto">
    <table class="table-auto">
        <thead>
            <tr>                               
                <th class="border-b dark:border-slate-600 font-medium p-4 pl-4 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-left">Property</th><th class="border-b dark:border-slate-600 font-medium p-4 pl-4 pt-0 pb-3 text-slate-400 dark:text-slate-200 text-left">Description</th>
            </tr>
        </thead>
        <tbody>
            <tr>
    <td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'><code>advanceCursor</code></td><td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'>This property set by get_entry() option advance_cursor_for_consumer. If set, get_entry() option next_for_consumer will removed it and use it as the cursor to begin looking for the next applicable entry. The intent of cursorNext is to be set by a background process/thread that examines journal entries from the cursorNext/cursorCurrent forward looking for a entry that passes the consumer filter. Once cursorNext is used by get_entry() next_for_consumer, the property is removed.</td>    
</tr><tr>
    <td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'><code>consumeCursor</code></td><td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'>This is the current cursor being consumed. This property only exists between a get_entry() option next_for_consumer and the corresponding mark_entry_consumed(). If this property exists, it should have exactly the same value as property cursorCurrent. Anything else is and error.</td>    
</tr><tr>
    <td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'><code>consumeFilter</code></td><td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'>This is a boolean expression that determines if a journal entry is applicable to be consumed by this peer.</td>    
</tr><tr>
    <td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'><code>consumeStartTime</code></td><td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'>The time that get_entry() next_for_consumer began. This property will only exist if cursorBeingConsumed property exists.</td>    
</tr><tr>
    <td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'><code>currentCursor</code></td><td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'>This is the current cursor into the journal.</td>    
</tr><tr>
    <td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'><code>description</code></td><td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'>Description of provisioning peer.</td>    
</tr><tr>
    <td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'><code>lastContactTime</code></td><td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'>The last time the peer was successfully contacted.</td>    
</tr><tr>
    <td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'><code>peerId</code></td><td class="border-b border-slate-100 dark:border-slate-700 p-4 text-slate-500 dark:text-slate-400 align-top" style='white-space: pre-line;'>Id used to identify this peer. This may also be referred to as the consumerId or producerId, depending on the perspective.</td>    
</tr>
        </tbody>
    </table>
</div><p class="text-lg text-slate-700 dark:text-slate-400">
    
            When Provisioning Peers call journal functions, the peerId that 
            is specified by the peering client, should be authenticated and 
            authorized in order to deliver the appropriate data to the 
            Provisioning Peer. While anyone can produce events to be journaled, 
            or consume events from a Journal, the concept of a Provisioning 
            Peer allows you to pre-define and centrally-manage producers and 
            consumers in order to support filters, maintain cursors, and 
            additional information about the peer. Additionally, when a 
            Provisioning Peer produces an event, the peerId should be provided 
            in order to avoid event loopback situations, where a consumer could 
            consume the very event it produced.
        
</p>
</section>                        
                            <footer class="text-sm leading-6 mt-12">
    <div class="mb-10 text-slate-700 font-semibold flex items-center dark:text-slate-200">
    <a class="group flex items-center hover:text-slate-900 dark:hover:text-white" href="authorization.html"><svg viewBox="0 0 3 6" class="mr-3 w-auto h-1.5 text-slate-400 overflow-visible group-hover:text-slate-600 dark:group-hover:text-slate-300">
        <path d="M3 0L0 3L3 6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"></path></svg>Authorization</a>    
</div>
</footer>
                            <p></p>
                        </div>                        
                    </main>                    
                </div>
            </div>            
        </div>
    </body>
</html>