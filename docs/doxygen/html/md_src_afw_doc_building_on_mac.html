<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Adaptive Framework: Building for MacOS</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Adaptive Framework
   &#160;<span id="projectnumber">0.9.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Building for MacOS </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>(tested on MacOS Catalina Version 10.15.6)</p>
<h1><a class="anchor" id="autotoc_md25"></a>
XCode and Homebrew</h1>
<p>This build process relies on CLang for MacOS, provided by XCode, along with Homebrew for additional package libraries and headers.</p>
<h1><a class="anchor" id="autotoc_md26"></a>
Rules to run at install time. Homebrew dependencies</h1>
<pre class="fragment">brew install autoconf
brew install automake
brew install pkg-config
brew install apache2
brew install mysql
brew install icu4c
brew link icu4c
brew install libyaml
brew install openssl
brew install berkeley-db
brew install openldap
brew install lmdb
</pre> <h1><a class="anchor" id="autotoc_md27"></a>
Download and Build apr and apr-util</h1>
<p>Homebrew will allow you to install apr and apr-util, but without ldap support, as far as I can tell. In order to build apr-util with LDAP support, you need to pass &ndash;with-ldap to the configure. However, this is not enough. The openldap API's for MacOS expects LDAP_SET_REBIND_PROC_THREE to be defined in order to call the right function. From what I've encountered, the default configure script won't define this constant, even if you tell it, so the only recourse was to modify apr_ldap_rebind.c and <code>#define</code> it. Somewhere out the apache community may offer a better solution.</p>
<h1><a class="anchor" id="autotoc_md28"></a>
Setup paths for pkg-config</h1>
<p>The pkg-config tool is a system tool that gives Makefiles a convenient way to get the header paths, library paths and compiler flags required for each installed library. In order to allow for it to locate ICU and openssl, we need to: </p><pre class="fragment">export PKG_CONFIG_PATH=$PKG_CONFIG_PATH:/usr/local/opt/icu4c/lib/pkgconfig:/usr/local/opt/openssl/lib/pkgconfig
</pre> <h1><a class="anchor" id="autotoc_md29"></a>
Building Adaptive Framework</h1>
<pre class="fragment">cd afw
./afwdev build
</pre> <h1><a class="anchor" id="autotoc_md30"></a>
Rules to run at install time. Adaptive Framework</h1>
<pre class="fragment">./afwdev build --install
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Jun 27 2023 16:19:58 for Adaptive Framework by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
